{"ast":null,"code":"import React from'react';import{Link as RouterLink,useNavigate}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{AppBar,Toolbar,Typography,Button,IconButton,Box,Menu,MenuItem,Avatar,useScrollTrigger,Slide}from'@mui/material';import{AccountCircle,Upload,VideoLibrary}from'@mui/icons-material';import{logout}from'../../store/slices/authSlice';// Hide navbar on scroll down\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function HideOnScroll(props){const{children}=props;const trigger=useScrollTrigger();return/*#__PURE__*/_jsx(Slide,{appear:false,direction:\"down\",in:!trigger,children:children});}const Navbar=()=>{const navigate=useNavigate();const dispatch=useDispatch();const{isAuthenticated,user}=useSelector(state=>state.auth);const[anchorEl,setAnchorEl]=React.useState(null);const handleMenu=event=>{setAnchorEl(event.currentTarget);};const handleClose=()=>{setAnchorEl(null);};const handleLogout=()=>{dispatch(logout());handleClose();navigate('/login');};const handleProfile=()=>{handleClose();navigate('/profile');};return/*#__PURE__*/_jsx(HideOnScroll,{children:/*#__PURE__*/_jsx(AppBar,{position:\"sticky\",elevation:0,sx:{backgroundColor:'background.paper',borderBottom:'1px solid',borderColor:'divider'},children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",component:RouterLink,to:\"/\",sx:{flexGrow:1,textDecoration:'none',color:'primary.main',display:'flex',alignItems:'center',gap:1,fontWeight:600},children:[/*#__PURE__*/_jsx(VideoLibrary,{}),\"Video App\"]}),isAuthenticated?/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2},children:[(user===null||user===void 0?void 0:user.role)==='creator'&&/*#__PURE__*/_jsx(Button,{variant:\"contained\",component:RouterLink,to:\"/upload\",startIcon:/*#__PURE__*/_jsx(Upload,{}),sx:{backgroundColor:'primary.main','&:hover':{backgroundColor:'primary.dark'}},children:\"Upload\"}),/*#__PURE__*/_jsx(IconButton,{size:\"large\",\"aria-label\":\"account of current user\",\"aria-controls\":\"menu-appbar\",\"aria-haspopup\":\"true\",onClick:handleMenu,sx:{border:'2px solid',borderColor:'primary.main','&:hover':{backgroundColor:'primary.light',color:'white'}},children:user!==null&&user!==void 0&&user.name?/*#__PURE__*/_jsx(Avatar,{sx:{width:32,height:32,backgroundColor:'primary.main'},children:user.name[0].toUpperCase()}):/*#__PURE__*/_jsx(AccountCircle,{})}),/*#__PURE__*/_jsxs(Menu,{id:\"menu-appbar\",anchorEl:anchorEl,anchorOrigin:{vertical:'bottom',horizontal:'right'},keepMounted:true,transformOrigin:{vertical:'top',horizontal:'right'},open:Boolean(anchorEl),onClose:handleClose,PaperProps:{sx:{mt:1.5,borderRadius:2,boxShadow:'0px 4px 12px rgba(0, 0, 0, 0.1)'}},children:[/*#__PURE__*/_jsx(MenuItem,{onClick:handleProfile,sx:{'&:hover':{backgroundColor:'primary.light',color:'white'}},children:\"Profile\"}),/*#__PURE__*/_jsx(MenuItem,{onClick:handleLogout,sx:{color:'error.main','&:hover':{backgroundColor:'error.light',color:'white'}},children:\"Logout\"})]})]}):/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:2},children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",component:RouterLink,to:\"/login\",sx:{borderColor:'primary.main',color:'primary.main','&:hover':{borderColor:'primary.dark',backgroundColor:'primary.light',color:'white'}},children:\"Login\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",component:RouterLink,to:\"/register\",sx:{backgroundColor:'primary.main','&:hover':{backgroundColor:'primary.dark'}},children:\"Register\"})]})]})})});};export default Navbar;","map":{"version":3,"names":["React","Link","RouterLink","useNavigate","useSelector","useDispatch","AppBar","Toolbar","Typography","Button","IconButton","Box","Menu","MenuItem","Avatar","useScrollTrigger","Slide","AccountCircle","Upload","VideoLibrary","logout","jsx","_jsx","jsxs","_jsxs","HideOnScroll","props","children","trigger","appear","direction","in","Navbar","navigate","dispatch","isAuthenticated","user","state","auth","anchorEl","setAnchorEl","useState","handleMenu","event","currentTarget","handleClose","handleLogout","handleProfile","position","elevation","sx","backgroundColor","borderBottom","borderColor","variant","component","to","flexGrow","textDecoration","color","display","alignItems","gap","fontWeight","role","startIcon","size","onClick","border","name","width","height","toUpperCase","id","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","Boolean","onClose","PaperProps","mt","borderRadius","boxShadow"],"sources":["C:/Users/abs/Desktop/VideoApp/VideoApp/client/src/components/layout/Navbar.js"],"sourcesContent":["import React from 'react';\r\nimport { Link as RouterLink, useNavigate } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  Typography,\r\n  Button,\r\n  IconButton,\r\n  Box,\r\n  Menu,\r\n  MenuItem,\r\n  Avatar,\r\n  useScrollTrigger,\r\n  Slide\r\n} from '@mui/material';\r\nimport { AccountCircle, Upload, VideoLibrary } from '@mui/icons-material';\r\nimport { logout } from '../../store/slices/authSlice';\r\n\r\n// Hide navbar on scroll down\r\nfunction HideOnScroll(props) {\r\n  const { children } = props;\r\n  const trigger = useScrollTrigger();\r\n\r\n  return (\r\n    <Slide appear={false} direction=\"down\" in={!trigger}>\r\n      {children}\r\n    </Slide>\r\n  );\r\n}\r\n\r\nconst Navbar = () => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const { isAuthenticated, user } = useSelector(state => state.auth);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    dispatch(logout());\r\n    handleClose();\r\n    navigate('/login');\r\n  };\r\n\r\n  const handleProfile = () => {\r\n    handleClose();\r\n    navigate('/profile');\r\n  };\r\n\r\n  return (\r\n    <HideOnScroll>\r\n      <AppBar \r\n        position=\"sticky\" \r\n        elevation={0}\r\n        sx={{\r\n          backgroundColor: 'background.paper',\r\n          borderBottom: '1px solid',\r\n          borderColor: 'divider',\r\n        }}\r\n      >\r\n        <Toolbar>\r\n          <Typography\r\n            variant=\"h6\"\r\n            component={RouterLink}\r\n            to=\"/\"\r\n            sx={{\r\n              flexGrow: 1,\r\n              textDecoration: 'none',\r\n              color: 'primary.main',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: 1,\r\n              fontWeight: 600,\r\n            }}\r\n          >\r\n            <VideoLibrary />\r\n            Video App\r\n          </Typography>\r\n\r\n          {isAuthenticated ? (\r\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n              {user?.role === 'creator' && (\r\n                <Button\r\n                  variant=\"contained\"\r\n                  component={RouterLink}\r\n                  to=\"/upload\"\r\n                  startIcon={<Upload />}\r\n                  sx={{\r\n                    backgroundColor: 'primary.main',\r\n                    '&:hover': {\r\n                      backgroundColor: 'primary.dark',\r\n                    },\r\n                  }}\r\n                >\r\n                  Upload\r\n                </Button>\r\n              )}\r\n              <IconButton\r\n                size=\"large\"\r\n                aria-label=\"account of current user\"\r\n                aria-controls=\"menu-appbar\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleMenu}\r\n                sx={{\r\n                  border: '2px solid',\r\n                  borderColor: 'primary.main',\r\n                  '&:hover': {\r\n                    backgroundColor: 'primary.light',\r\n                    color: 'white',\r\n                  },\r\n                }}\r\n              >\r\n                {user?.name ? (\r\n                  <Avatar \r\n                    sx={{ \r\n                      width: 32, \r\n                      height: 32,\r\n                      backgroundColor: 'primary.main',\r\n                    }}\r\n                  >\r\n                    {user.name[0].toUpperCase()}\r\n                  </Avatar>\r\n                ) : (\r\n                  <AccountCircle />\r\n                )}\r\n              </IconButton>\r\n              <Menu\r\n                id=\"menu-appbar\"\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                  vertical: 'bottom',\r\n                  horizontal: 'right',\r\n                }}\r\n                keepMounted\r\n                transformOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right',\r\n                }}\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n                PaperProps={{\r\n                  sx: {\r\n                    mt: 1.5,\r\n                    borderRadius: 2,\r\n                    boxShadow: '0px 4px 12px rgba(0, 0, 0, 0.1)',\r\n                  },\r\n                }}\r\n              >\r\n                <MenuItem \r\n                  onClick={handleProfile}\r\n                  sx={{\r\n                    '&:hover': {\r\n                      backgroundColor: 'primary.light',\r\n                      color: 'white',\r\n                    },\r\n                  }}\r\n                >\r\n                  Profile\r\n                </MenuItem>\r\n                <MenuItem \r\n                  onClick={handleLogout}\r\n                  sx={{\r\n                    color: 'error.main',\r\n                    '&:hover': {\r\n                      backgroundColor: 'error.light',\r\n                      color: 'white',\r\n                    },\r\n                  }}\r\n                >\r\n                  Logout\r\n                </MenuItem>\r\n              </Menu>\r\n            </Box>\r\n          ) : (\r\n            <Box sx={{ display: 'flex', gap: 2 }}>\r\n              <Button\r\n                variant=\"outlined\"\r\n                component={RouterLink}\r\n                to=\"/login\"\r\n                sx={{\r\n                  borderColor: 'primary.main',\r\n                  color: 'primary.main',\r\n                  '&:hover': {\r\n                    borderColor: 'primary.dark',\r\n                    backgroundColor: 'primary.light',\r\n                    color: 'white',\r\n                  },\r\n                }}\r\n              >\r\n                Login\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                component={RouterLink}\r\n                to=\"/register\"\r\n                sx={{\r\n                  backgroundColor: 'primary.main',\r\n                  '&:hover': {\r\n                    backgroundColor: 'primary.dark',\r\n                  },\r\n                }}\r\n              >\r\n                Register\r\n              </Button>\r\n            </Box>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n    </HideOnScroll>\r\n  );\r\n};\r\n\r\nexport default Navbar; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}