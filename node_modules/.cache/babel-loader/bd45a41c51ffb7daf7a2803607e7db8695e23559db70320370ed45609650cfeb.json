{"ast":null,"code":"import React,{useEffect}from'react';import{useNavigate}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{useFormik}from'formik';import*as Yup from'yup';import{Container,Paper,Typography,TextField,Button,Box,Alert,FormControl,InputLabel,Select,MenuItem,Fade,CircularProgress}from'@mui/material';import{PersonAdd}from'@mui/icons-material';import{register,clearError}from'../../store/slices/authSlice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const validationSchema=Yup.object({name:Yup.string().required('Name is required').min(2,'Name must be at least 2 characters'),email:Yup.string().email('Invalid email address').required('Email is required'),password:Yup.string().required('Password is required').min(6,'Password must be at least 6 characters'),role:Yup.string().oneOf(['creator','consumer'],'Invalid role').required('Role is required')});const Register=()=>{const navigate=useNavigate();const dispatch=useDispatch();const{loading,error,isAuthenticated}=useSelector(state=>state.auth);useEffect(()=>{if(isAuthenticated){navigate('/');}return()=>{dispatch(clearError());};},[isAuthenticated,navigate,dispatch]);const formik=useFormik({initialValues:{name:'',email:'',password:'',role:'consumer'},validationSchema,onSubmit:values=>{dispatch(register(values));}});return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",children:/*#__PURE__*/_jsx(Fade,{in:true,timeout:500,children:/*#__PURE__*/_jsx(Box,{sx:{mt:8,display:'flex',flexDirection:'column',alignItems:'center'},children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:4,width:'100%',display:'flex',flexDirection:'column',alignItems:'center',gap:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,align:\"center\",sx:{color:'primary.main',fontWeight:600},children:\"Create Account\"}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{width:'100%',borderRadius:2},children:typeof error==='string'?error:error.message||'Registration failed'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,style:{width:'100%'},children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"name\",name:\"name\",label:\"Name\",value:formik.values.name,onChange:formik.handleChange,error:formik.touched.name&&Boolean(formik.errors.name),helperText:formik.touched.name&&formik.errors.name,margin:\"normal\",sx:{'& .MuiOutlinedInput-root':{'&:hover fieldset':{borderColor:'primary.main'}}}}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"email\",name:\"email\",label:\"Email\",value:formik.values.email,onChange:formik.handleChange,error:formik.touched.email&&Boolean(formik.errors.email),helperText:formik.touched.email&&formik.errors.email,margin:\"normal\",sx:{'& .MuiOutlinedInput-root':{'&:hover fieldset':{borderColor:'primary.main'}}}}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"password\",name:\"password\",label:\"Password\",type:\"password\",value:formik.values.password,onChange:formik.handleChange,error:formik.touched.password&&Boolean(formik.errors.password),helperText:formik.touched.password&&formik.errors.password,margin:\"normal\",sx:{'& .MuiOutlinedInput-root':{'&:hover fieldset':{borderColor:'primary.main'}}}}),/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,margin:\"normal\",sx:{'& .MuiOutlinedInput-root':{'&:hover fieldset':{borderColor:'primary.main'}}},children:[/*#__PURE__*/_jsx(InputLabel,{id:\"role-label\",children:\"Role\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"role-label\",id:\"role\",name:\"role\",value:formik.values.role,onChange:formik.handleChange,label:\"Role\",error:formik.touched.role&&Boolean(formik.errors.role),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"consumer\",children:\"Consumer\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"creator\",children:\"Creator\"})]})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",size:\"large\",disabled:loading,startIcon:loading?/*#__PURE__*/_jsx(CircularProgress,{size:20,color:\"inherit\"}):/*#__PURE__*/_jsx(PersonAdd,{}),sx:{mt:3,mb:2,height:48,borderRadius:2,textTransform:'none',fontSize:'1rem'},children:loading?'Creating Account...':'Create Account'})]})]})})})});};export default Register;","map":{"version":3,"names":["React","useEffect","useNavigate","useDispatch","useSelector","useFormik","Yup","Container","Paper","Typography","TextField","Button","Box","Alert","FormControl","InputLabel","Select","MenuItem","Fade","CircularProgress","PersonAdd","register","clearError","jsx","_jsx","jsxs","_jsxs","validationSchema","object","name","string","required","min","email","password","role","oneOf","Register","navigate","dispatch","loading","error","isAuthenticated","state","auth","formik","initialValues","onSubmit","values","maxWidth","children","in","timeout","sx","mt","display","flexDirection","alignItems","elevation","p","width","gap","variant","component","gutterBottom","align","color","fontWeight","severity","borderRadius","message","handleSubmit","style","fullWidth","id","label","value","onChange","handleChange","touched","Boolean","errors","helperText","margin","borderColor","type","labelId","size","disabled","startIcon","mb","height","textTransform","fontSize"],"sources":["C:/Users/abs/Desktop/VideoApp/VideoApp/client/src/components/auth/Register.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport {\n  Container,\n  Paper,\n  Typography,\n  TextField,\n  Button,\n  Box,\n  Alert,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Fade,\n  CircularProgress\n} from '@mui/material';\nimport { PersonAdd } from '@mui/icons-material';\nimport { register, clearError } from '../../store/slices/authSlice';\n\nconst validationSchema = Yup.object({\n  name: Yup.string()\n    .required('Name is required')\n    .min(2, 'Name must be at least 2 characters'),\n  email: Yup.string()\n    .email('Invalid email address')\n    .required('Email is required'),\n  password: Yup.string()\n    .required('Password is required')\n    .min(6, 'Password must be at least 6 characters'),\n  role: Yup.string()\n    .oneOf(['creator', 'consumer'], 'Invalid role')\n    .required('Role is required')\n});\n\nconst Register = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const { loading, error, isAuthenticated } = useSelector(state => state.auth);\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      navigate('/');\n    }\n    return () => {\n      dispatch(clearError());\n    };\n  }, [isAuthenticated, navigate, dispatch]);\n\n  const formik = useFormik({\n    initialValues: {\n      name: '',\n      email: '',\n      password: '',\n      role: 'consumer'\n    },\n    validationSchema,\n    onSubmit: (values) => {\n      dispatch(register(values));\n    }\n  });\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Fade in={true} timeout={500}>\n        <Box \n          sx={{ \n            mt: 8,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Paper \n            elevation={3} \n            sx={{ \n              p: 4,\n              width: '100%',\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n              gap: 3,\n            }}\n          >\n            <Typography \n              variant=\"h4\" \n              component=\"h1\" \n              gutterBottom \n              align=\"center\"\n              sx={{\n                color: 'primary.main',\n                fontWeight: 600,\n              }}\n            >\n              Create Account\n            </Typography>\n\n            {error && (\n              <Alert \n                severity=\"error\" \n                sx={{ \n                  width: '100%',\n                  borderRadius: 2,\n                }}\n              >\n                {typeof error === 'string' ? error : error.message || 'Registration failed'}\n              </Alert>\n            )}\n\n            <form \n              onSubmit={formik.handleSubmit}\n              style={{ width: '100%' }}\n            >\n              <TextField\n                fullWidth\n                id=\"name\"\n                name=\"name\"\n                label=\"Name\"\n                value={formik.values.name}\n                onChange={formik.handleChange}\n                error={formik.touched.name && Boolean(formik.errors.name)}\n                helperText={formik.touched.name && formik.errors.name}\n                margin=\"normal\"\n                sx={{\n                  '& .MuiOutlinedInput-root': {\n                    '&:hover fieldset': {\n                      borderColor: 'primary.main',\n                    },\n                  },\n                }}\n              />\n\n              <TextField\n                fullWidth\n                id=\"email\"\n                name=\"email\"\n                label=\"Email\"\n                value={formik.values.email}\n                onChange={formik.handleChange}\n                error={formik.touched.email && Boolean(formik.errors.email)}\n                helperText={formik.touched.email && formik.errors.email}\n                margin=\"normal\"\n                sx={{\n                  '& .MuiOutlinedInput-root': {\n                    '&:hover fieldset': {\n                      borderColor: 'primary.main',\n                    },\n                  },\n                }}\n              />\n\n              <TextField\n                fullWidth\n                id=\"password\"\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                value={formik.values.password}\n                onChange={formik.handleChange}\n                error={formik.touched.password && Boolean(formik.errors.password)}\n                helperText={formik.touched.password && formik.errors.password}\n                margin=\"normal\"\n                sx={{\n                  '& .MuiOutlinedInput-root': {\n                    '&:hover fieldset': {\n                      borderColor: 'primary.main',\n                    },\n                  },\n                }}\n              />\n\n              <FormControl \n                fullWidth \n                margin=\"normal\"\n                sx={{\n                  '& .MuiOutlinedInput-root': {\n                    '&:hover fieldset': {\n                      borderColor: 'primary.main',\n                    },\n                  },\n                }}\n              >\n                <InputLabel id=\"role-label\">Role</InputLabel>\n                <Select\n                  labelId=\"role-label\"\n                  id=\"role\"\n                  name=\"role\"\n                  value={formik.values.role}\n                  onChange={formik.handleChange}\n                  label=\"Role\"\n                  error={formik.touched.role && Boolean(formik.errors.role)}\n                >\n                  <MenuItem value=\"consumer\">Consumer</MenuItem>\n                  <MenuItem value=\"creator\">Creator</MenuItem>\n                </Select>\n              </FormControl>\n\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                size=\"large\"\n                disabled={loading}\n                startIcon={loading ? <CircularProgress size={20} color=\"inherit\" /> : <PersonAdd />}\n                sx={{\n                  mt: 3,\n                  mb: 2,\n                  height: 48,\n                  borderRadius: 2,\n                  textTransform: 'none',\n                  fontSize: '1rem',\n                }}\n              >\n                {loading ? 'Creating Account...' : 'Create Account'}\n              </Button>\n            </form>\n          </Paper>\n        </Box>\n      </Fade>\n    </Container>\n  );\n};\n\nexport default Register; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}