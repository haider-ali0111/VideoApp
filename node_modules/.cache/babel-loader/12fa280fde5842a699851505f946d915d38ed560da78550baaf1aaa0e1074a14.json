{"ast":null,"code":"import React,{useEffect}from'react';import{useNavigate}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{useFormik}from'formik';import*as Yup from'yup';import{Container,Paper,Typography,TextField,Button,Box,Alert,Fade,CircularProgress}from'@mui/material';import{Login as LoginIcon}from'@mui/icons-material';import{login,clearError}from'../../store/slices/authSlice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const validationSchema=Yup.object({email:Yup.string().email('Invalid email address').required('Email is required'),password:Yup.string().required('Password is required')});const Login=()=>{const navigate=useNavigate();const dispatch=useDispatch();const{loading,error,isAuthenticated}=useSelector(state=>state.auth);useEffect(()=>{if(isAuthenticated){navigate('/');}return()=>{dispatch(clearError());};},[isAuthenticated,navigate,dispatch]);const formik=useFormik({initialValues:{email:'',password:''},validationSchema,onSubmit:values=>{dispatch(login(values));}});return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",children:/*#__PURE__*/_jsx(Fade,{in:true,timeout:500,children:/*#__PURE__*/_jsx(Box,{sx:{mt:8,display:'flex',flexDirection:'column',alignItems:'center'},children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:4,width:'100%',display:'flex',flexDirection:'column',alignItems:'center',gap:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,align:\"center\",sx:{color:'primary.main',fontWeight:600},children:\"Welcome Back\"}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{width:'100%',borderRadius:2},children:typeof error==='string'?error:error.message||'Login failed'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,style:{width:'100%'},children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"email\",name:\"email\",label:\"Email\",value:formik.values.email,onChange:formik.handleChange,error:formik.touched.email&&Boolean(formik.errors.email),helperText:formik.touched.email&&formik.errors.email,margin:\"normal\",sx:{'& .MuiOutlinedInput-root':{'&:hover fieldset':{borderColor:'primary.main'}}}}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"password\",name:\"password\",label:\"Password\",type:\"password\",value:formik.values.password,onChange:formik.handleChange,error:formik.touched.password&&Boolean(formik.errors.password),helperText:formik.touched.password&&formik.errors.password,margin:\"normal\",sx:{'& .MuiOutlinedInput-root':{'&:hover fieldset':{borderColor:'primary.main'}}}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",size:\"large\",disabled:loading,startIcon:loading?/*#__PURE__*/_jsx(CircularProgress,{size:20,color:\"inherit\"}):/*#__PURE__*/_jsx(LoginIcon,{}),sx:{mt:3,mb:2,height:48,borderRadius:2,textTransform:'none',fontSize:'1rem'},children:loading?'Signing in...':'Sign In'})]})]})})})});};export default Login;","map":{"version":3,"names":["React","useEffect","useNavigate","useDispatch","useSelector","useFormik","Yup","Container","Paper","Typography","TextField","Button","Box","Alert","Fade","CircularProgress","Login","LoginIcon","login","clearError","jsx","_jsx","jsxs","_jsxs","validationSchema","object","email","string","required","password","navigate","dispatch","loading","error","isAuthenticated","state","auth","formik","initialValues","onSubmit","values","maxWidth","children","in","timeout","sx","mt","display","flexDirection","alignItems","elevation","p","width","gap","variant","component","gutterBottom","align","color","fontWeight","severity","borderRadius","message","handleSubmit","style","fullWidth","id","name","label","value","onChange","handleChange","touched","Boolean","errors","helperText","margin","borderColor","type","size","disabled","startIcon","mb","height","textTransform","fontSize"],"sources":["C:/Users/abs/Desktop/VideoApp/VideoApp/client/src/components/auth/Login.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport {\n  Container,\n  Paper,\n  Typography,\n  TextField,\n  Button,\n  Box,\n  Alert,\n  Fade,\n  CircularProgress\n} from '@mui/material';\nimport { Login as LoginIcon } from '@mui/icons-material';\nimport { login, clearError } from '../../store/slices/authSlice';\n\nconst validationSchema = Yup.object({\n  email: Yup.string()\n    .email('Invalid email address')\n    .required('Email is required'),\n  password: Yup.string()\n    .required('Password is required')\n});\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const { loading, error, isAuthenticated } = useSelector(state => state.auth);\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      navigate('/');\n    }\n    return () => {\n      dispatch(clearError());\n    };\n  }, [isAuthenticated, navigate, dispatch]);\n\n  const formik = useFormik({\n    initialValues: {\n      email: '',\n      password: ''\n    },\n    validationSchema,\n    onSubmit: (values) => {\n      dispatch(login(values));\n    }\n  });\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Fade in={true} timeout={500}>\n        <Box \n          sx={{ \n            mt: 8,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Paper \n            elevation={3} \n            sx={{ \n              p: 4,\n              width: '100%',\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n              gap: 3,\n            }}\n          >\n            <Typography \n              variant=\"h4\" \n              component=\"h1\" \n              gutterBottom \n              align=\"center\"\n              sx={{\n                color: 'primary.main',\n                fontWeight: 600,\n              }}\n            >\n              Welcome Back\n            </Typography>\n\n            {error && (\n              <Alert \n                severity=\"error\" \n                sx={{ \n                  width: '100%',\n                  borderRadius: 2,\n                }}\n              >\n                {typeof error === 'string' ? error : error.message || 'Login failed'}\n              </Alert>\n            )}\n\n            <form \n              onSubmit={formik.handleSubmit}\n              style={{ width: '100%' }}\n            >\n              <TextField\n                fullWidth\n                id=\"email\"\n                name=\"email\"\n                label=\"Email\"\n                value={formik.values.email}\n                onChange={formik.handleChange}\n                error={formik.touched.email && Boolean(formik.errors.email)}\n                helperText={formik.touched.email && formik.errors.email}\n                margin=\"normal\"\n                sx={{\n                  '& .MuiOutlinedInput-root': {\n                    '&:hover fieldset': {\n                      borderColor: 'primary.main',\n                    },\n                  },\n                }}\n              />\n\n              <TextField\n                fullWidth\n                id=\"password\"\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                value={formik.values.password}\n                onChange={formik.handleChange}\n                error={formik.touched.password && Boolean(formik.errors.password)}\n                helperText={formik.touched.password && formik.errors.password}\n                margin=\"normal\"\n                sx={{\n                  '& .MuiOutlinedInput-root': {\n                    '&:hover fieldset': {\n                      borderColor: 'primary.main',\n                    },\n                  },\n                }}\n              />\n\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                size=\"large\"\n                disabled={loading}\n                startIcon={loading ? <CircularProgress size={20} color=\"inherit\" /> : <LoginIcon />}\n                sx={{\n                  mt: 3,\n                  mb: 2,\n                  height: 48,\n                  borderRadius: 2,\n                  textTransform: 'none',\n                  fontSize: '1rem',\n                }}\n              >\n                {loading ? 'Signing in...' : 'Sign In'}\n              </Button>\n            </form>\n          </Paper>\n        </Box>\n      </Fade>\n    </Container>\n  );\n};\n\nexport default Login; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}